<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spring JDBC Notes</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #1a1a1a;
        color: #ffffff;
        line-height: 1.6;
      }
      .code-block {
        padding: 15px;
        border-radius: 5px;
        font-family: "Courier New", Courier, monospace;
        font-size: 14px;
        overflow-x: auto;
        margin: 10px 0;
        background-color: #282a35;
        color: #ffffff;
      }
      .keyword {
        color: #c586c0; /* IntelliJ: Purple for keywords like public, class */
      }
      .string {
        color: #ce9178; /* IntelliJ: Light orange for strings like "org.postgresql.Driver" */
      }
      .comment {
        color: #6a9955; /* IntelliJ: Green for comments */
      }
      .method {
        color: #dcdcaa; /* IntelliJ: Light yellow for method names like getConnection */
      }
      .sql-keyword {
        color: #c586c0; /* IntelliJ: Purple for SQL keywords like create, table */
      }
      .property {
        color: #9cdcfe; /* IntelliJ: Light blue for property names like spring.datasource.url */
      }
      .value {
        color: #ce9178; /* IntelliJ: Light orange for values like jdbc:postgresql://localhost:5432/practice */
      }
      .type {
        color: #4ec9b0; /* IntelliJ: Cyan for types like int, String */
      }
      .annotation {
        color: #dcdcaa; /* IntelliJ: Light yellow for annotations like @Entity */
      }
      /* Preserve original styles and apply image-based styling where applicable */
      .white-bg {
        background-color: #ffffff;
        color: #333;
      }
      .grey-bg {
        background-color: #e0e0e0;
        color: #333;
      }
      .black-bg {
        background-color: #1a1a1a;
        color: #ffffff;
      }
      .bg-switcher {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000;
        font-size: 16px;
      }
      .bg-switcher label {
        margin-right: 10px;
        color: inherit;
      }
      .bg-switcher select {
        padding: 5px;
        border-radius: 5px;
        background-color: #04aa6d;
        color: white;
        border: none;
        cursor: pointer;
      }
      .bg-switcher select:focus {
        outline: 2px solid #059862;
      }
      .sidebar {
        width: 250px;
        background-color: #04aa6d;
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        padding-top: 20px;
        color: white;
        overflow-y: auto;
      }
      .sidebar-title {
        font-size: 24px;
        text-align: center;
        margin-bottom: 30px;
      }
      .sidebar-link {
        display: block;
        padding: 12px 20px;
        color: white;
        text-decoration: none;
        font-size: 18px;
        transition: background-color 0.3s;
      }
      .sidebar-link:hover {
        background-color: #059862;
      }
      .sidebar-link:focus {
        outline: 2px solid white;
      }
      .main-content {
        margin-left: 270px;
        padding: 30px;
      }
      .header {
        background-color: #282a35;
        color: white;
        padding: 20px;
        text-align: center;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .header-title {
        font-size: 36px;
        margin: 0;
      }
      .header-subtitle {
        font-size: 18px;
        margin-top: 10px;
      }
      .section {
        margin: 20px 0;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .white-bg .section {
        background-color: #f9f9f9;
      }
      .grey-bg .section {
        background-color: #d0d0d0;
      }
      .black-bg .section {
        background-color: #2a2a2a;
      }
      .section-title {
        font-size: 28px;
        color: #04aa6d;
        margin-bottom: 15px;
      }
      .subsection-title {
        font-size: 22px;
        margin: 15px 0 10px;
        color: inherit;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        background-color: #ffffff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
      }
      th,
      td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      th {
        background-color: #04aa6d;
        color: white;
        font-weight: bold;
      }
      tr:nth-child(even) {
        background-color: #f9f9f9;
      }
      tr:hover {
        background-color: #f1f1f1;
      }
      .content-line {
        font-size: 16px;
        margin: 8px 0;
        padding: 10px;
        border-left: 4px solid #04aa6d;
      }
      .white-bg .content-line {
        background-color: #f0f0f0;
      }
      .grey-bg .content-line {
        background-color: #c0c0c0;
      }
      .black-bg .content-line {
        background-color: #333333;
      }
      .code-block::-webkit-scrollbar {
        height: 8px;
      }
      .code-block::-webkit-scrollbar-thumb {
        background-color: #04aa6d;
        border-radius: 4px;
      }
      .code-block::-webkit-scrollbar-track {
        background-color: #f1f1f1;
      }
      .image-container {
        margin: 20px 0;
        text-align: center;
      }
      .diagram {
        max-width: 100%;
        border: 1px solid #ddd;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      .image-caption {
        font-size: 14px;
        color: inherit;
        margin-top: 5px;
      }
      .highlight {
        color: #ff4500;
        font-weight: bold;
      }
      strong {
        font-weight: bold;
      }
      @media (max-width: 768px) {
        .sidebar {
          width: 100%;
          height: auto;
          position: relative;
        }
        .main-content {
          margin-left: 0;
        }
      }
    </style>
    <script>
      function changeBackground() {
        const select = document.getElementById("bg-select");
        const body = document.body;
        body.className = select.value;
      }
    </script>
  </head>
  <body class="black-bg">
    <!-- Background Switcher -->
    <div class="bg-switcher">
      <label for="bg-select">Background:</label>
      <select id="bg-select" onchange="changeBackground()">
        <option value="white-bg">White</option>
        <option value="grey-bg">Grey</option>
        <option value="black-bg" selected>Black</option>
      </select>
    </div>

    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-title">Spring JDBC Notes</div>
      <a href="#what-is-jdbc" class="sidebar-link">What is JDBC?</a>
      <a href="#what-is-spring-jdbc" class="sidebar-link"
        >What is Spring JDBC?</a
      >
      <a href="#connecting-tables" class="sidebar-link"
        >Connecting Tables with Classes</a
      >
      <a href="#spring-jdbc-example" class="sidebar-link"
        >Spring JDBC Example Code</a
      >
      <a href="#how-jdbctemplate-works" class="sidebar-link"
        >How JdbcTemplate Works</a
      >
      <a href="#additional-jdbc-concepts" class="sidebar-link"
        >Additional JDBC Concepts</a
      >
      <a href="#disadvantages-jdbc" class="sidebar-link"
        >Disadvantages of JDBC</a
      >
      <a href="#overcoming-disadvantages-jpa" class="sidebar-link"
        >Overcoming with JPA</a
      >
      <a href="#conclusion" class="sidebar-link">Conclusion</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="header">
        <h1 class="header-title">Spring JDBC Notes (Complete)</h1>
        <p class="header-subtitle">
          A comprehensive guide to Spring JDBC, including code examples,
          disadvantages, and JPA comparisons.
        </p>
      </div>

      <!-- Section: What is JDBC? -->
      <div class="section" id="what-is-jdbc">
        <h2 class="section-title">What is JDBC?</h2>
        <p class="content-line">
          <strong>JDBC (Java Database Connectivity)</strong> is a Java API that
          connects Java applications to relational databases (e.g., PostgreSQL,
          MySQL). It allows you to:
        </p>
        <ul class="content-line">
          <li>Insert, update, delete, or query data.</li>
          <li>Work with any database providing a JDBC driver.</li>
        </ul>

        <h3 class="subsection-title">Core Components of JDBC</h3>
        <ol class="content-line">
          <li>
            <strong>DriverManager</strong>: Registers drivers and creates
            database connections.
          </li>
          <li>
            <strong>JDBC Driver</strong>: Translates Java commands to
            database-specific instructions (e.g.,
            <code>org.postgresql.Driver</code> for PostgreSQL).
          </li>
          <li>
            <strong>Connection</strong>: A session with the database for
            executing queries.
          </li>
          <li>
            <strong>Statement</strong>: Executes SQL commands:
            <ul>
              <li><strong>Statement</strong>: For static SQL.</li>
              <li>
                <strong>PreparedStatement</strong>: For parameterized,
                precompiled SQL.
              </li>
              <li>
                <strong>CallableStatement</strong>: For stored procedures.
              </li>
            </ul>
          </li>
          <li>
            <strong>ResultSet</strong>: Stores query results (e.g., rows from a
            <code>SELECT</code> query).
          </li>
        </ol>

        <h3 class="subsection-title">How JDBC Works (Basic Workflow)</h3>
        <ol class="content-line">
          <li>
            <strong>Load the Driver</strong>:
            <code>Class.forName("org.postgresql.Driver")</code> registers the
            driver.
          </li>
          <li>
            <strong>Establish Connection</strong>:
            <code>DriverManager.getConnection(url, username, password)</code>
            connects to the database.
          </li>
          <li>
            <strong>Create Statement</strong>:
            <code>conn.createStatement()</code> or
            <code>conn.prepareStatement()</code> prepares SQL execution.
          </li>
          <li>
            <strong>Execute Query</strong>:
            <ul>
              <li>
                <code>executeQuery()</code> for SELECT (returns
                <code>ResultSet</code>).
              </li>
              <li>
                <code>executeUpdate()</code> for INSERT/UPDATE/DELETE (returns
                rows affected).
              </li>
            </ul>
          </li>
          <li>
            <strong>Process Results</strong>: <code>ResultSet</code> iterates
            over rows (e.g., <code>rs.getInt("rollno")</code>).
          </li>
          <li>
            <strong>Close Resources</strong>: Close <code>ResultSet</code>,
            <code>Statement</code>, and <code>Connection</code> to avoid memory
            leaks.
          </li>
        </ol>

        <h3 class="subsection-title">Plain JDBC Example</h3>
        <div class="code-block">
          <pre>
<span class="keyword">import</span> <span class="type">java.sql</span>.*;

<span class="keyword">public</span> <span class="keyword">class</span> PlainJdbcExample {
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="method">main</span>(<span class="type">String</span>[] args) <span class="keyword">throws</span> <span class="type">Exception</span> {
        <span class="type">Class</span>.forName(<span class="string">"org.postgresql.Driver"</span>); <span class="comment">// Load driver</span>
        <span class="type">Connection</span> conn = <span class="type">DriverManager</span>.<span class="method">getConnection</span>(
            <span class="string">"jdbc:postgresql://localhost:5432/practice"</span>, <span class="string">"postgres"</span>, <span class="string">"1234789"</span>); <span class="comment">// Connect</span>
        <span class="type">Statement</span> stmt = conn.<span class="method">createStatement</span>(); <span class="comment">// Create statement</span>
        <span class="type">ResultSet</span> rs = stmt.<span class="method">executeQuery</span>(<span class="string">"SELECT * FROM student"</span>); <span class="comment">// Execute query</span>
        <span class="keyword">while</span> (rs.next()) { <span class="comment">// Process results</span>
            System.out.println(rs.<span class="method">getInt</span>(<span class="string">"rollno"</span>) + <span class="string">", "</span> + rs.<span class="method">getString</span>(<span class="string">"name"</span>) + <span class="string">", "</span> + rs.<span class="method">getDouble</span>(<span class="string">"marks"</span>));
        }
        rs.<span class="method">close</span>(); stmt.<span class="method">close</span>(); conn.<span class="method">close</span>(); <span class="comment">// Close resources</span>
    }
}
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: Connects to PostgreSQL, fetches all
          students, and prints their details. This is repetitive and
          error-prone, which Spring JDBC improves.
        </p>
      </div>

      <!-- Section: What is Spring JDBC? -->
      <div class="section" id="what-is-spring-jdbc">
        <h2 class="section-title">What is Spring JDBC?</h2>
        <p class="content-line">
          <strong>Spring JDBC</strong> is a module in the Spring Framework that
          simplifies database operations in Java. It provides the
          <code>JdbcTemplate</code> class to:
        </p>
        <ul class="content-line">
          <li>Connect with the database.</li>
          <li>Query the data.</li>
          <li>Process the data.</li>
          <li>Get the output.</li>
        </ul>

        <h3 class="subsection-title">Problem with Plain JDBC</h3>
        <p class="content-line">
          For every request (e.g., first request, second request), you manually:
        </p>
        <ol class="content-line">
          <li>Create a connection.</li>
          <li>Write SQL queries.</li>
          <li>Handle exceptions.</li>
          <li>Close the connection.</li>
        </ol>
        <p class="content-line">
          <strong>Doubt</strong>:
          <em>Why multiple connections? Can’t we reuse one?</em>
        </p>
        <ul class="content-line">
          <li>
            Creating new connections each time is slow and resource-heavy (e.g.,
            CPU, memory).
          </li>
        </ul>

        <h3 class="subsection-title">Spring JDBC Solution</h3>
        <ul class="content-line">
          <li>
            Uses a <strong>DataSource</strong> to manage a
            <strong>connection pool</strong>:
            <ul>
              <li>Keeps a set of open connections (e.g., 10).</li>
              <li>
                Your app borrows a connection, uses it, and returns it to the
                pool.
              </li>
              <li>Reusing connections is faster than creating new ones.</li>
            </ul>
          </li>
          <li>
            <strong>Spring Advantage</strong>: Libraries (e.g.,
            <code>spring-jdbc</code>, database drivers) are managed
            automatically via Maven/Gradle—no manual downloads.
          </li>
        </ul>
      </div>

      <!-- Section: Connecting Tables with Classes/Objects -->
      <div class="section" id="connecting-tables">
        <h2 class="section-title">Connecting Tables with Classes/Objects</h2>
        <p class="content-line">
          <strong>Can we connect a table with a class or object?</strong>
        </p>
        <ul class="content-line">
          <li>
            Yes! In Spring JDBC, a Java class represents a database table:
            <ul>
              <li>
                <strong>Class name</strong>: Matches the table name (e.g.,
                <code>Student</code> for <code>student</code>).
              </li>
              <li>
                <strong>Class variables (properties)</strong>: Match table
                columns (e.g., <code>rollno</code>, <code>name</code>,
                <code>marks</code>).
              </li>
              <li>
                Every <strong>object</strong> of the class represents
                <strong>one row</strong> in the table.
                <ul>
                  <li>
                    Example: 10 <code>Student</code> objects = 10 rows in the
                    <code>student</code> table.
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <strong>Concept</strong>: This is a basic form of
            <strong>object-relational mapping (ORM)</strong>, though in JDBC
            it’s manual (unlike full ORM frameworks like JPA).
          </li>
        </ul>

        <h3 class="subsection-title">Example Table Structure</h3>
        <div class="code-block">
          <pre>
<span class="sql-keyword">create</span> <span class="sql-keyword">table</span> student(
    rollno <span class="type">int</span> <span class="sql-keyword">primary key</span>,  <span class="comment">-- Unique ID (primary key ensures no duplicates)</span>
    name <span class="type">varchar</span>(50),        <span class="comment">-- Student’s name (up to 50 characters)</span>
    marks <span class="type">float</span>              <span class="comment">-- Student’s marks (decimal value)</span>
);
                </pre>
        </div>

        <h3 class="subsection-title">Example Class</h3>
        <div class="code-block">
          <pre>
package com.practice.jdbcexmpl.model;

<span class="keyword">import</span> <span class="type">org.springframework.stereotype.Component</span>;

<span class="annotation">@Component</span>  <span class="comment">// Registers this class as a Spring bean</span>
<span class="keyword">public</span> <span class="keyword">class</span> Student {
    <span class="keyword">private</span> <span class="type">int</span> rollno;      <span class="comment">// Maps to 'rollno' column</span>
    <span class="keyword">private</span> <span class="type">String</span> name;     <span class="comment">// Maps to 'name' column</span>
    <span class="keyword">private</span> <span class="type">double</span> marks;    <span class="comment">// Maps to 'marks' column</span>

    <span class="comment">// Getter for rollno</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="method">getRollno</span>() { <span class="keyword">return</span> rollno; }
    <span class="comment">// Setter for rollno</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">setRollno</span>(<span class="type">int</span> rollno) { this.rollno = rollno; }
    <span class="comment">// Getter for name</span>
    <span class="keyword">public</span> <span class="type">String</span> <span class="method">getName</span>() { <span class="keyword">return</span> name; }
    <span class="comment">// Setter for name</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">setName</span>(<span class="type">String</span> name) { this.name = name; }
    <span class="comment">// Getter for marks</span>
    <span class="keyword">public</span> <span class="type">double</span> <span class="method">getMarks</span>() { <span class="keyword">return</span> marks; }
    <span class="comment">// Setter for marks</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">setMarks</span>(<span class="type">double</span> marks) { this.marks = marks; }

    <span class="comment">// ToString method to display object details</span>
    @Override
    <span class="keyword">public</span> <span class="type">String</span> toString() {
        <span class="keyword">return</span> <span class="string">"Student{rollno="</span> + rollno + <span class="string">", name='"</span> + name + <span class="string">"', marks="</span> + marks + <span class="string">"}"</span>;
    }
}
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: The <code>Student</code> class mirrors
          the <code>student</code> table structure. Each object holds one
          student’s data.
        </p>
      </div>

      <!-- Section: Spring JDBC Example Code -->
      <div class="section" id="spring-jdbc-example">
        <h2 class="section-title">Spring JDBC Example Code</h2>

        <h3 class="subsection-title">Main Application</h3>
        <div class="code-block">
          <pre>
package com.practice.jdbcexmpl;

<span class="keyword">import</span> <span class="type">com.practice.jdbcexmpl.model.Student</span>;
<span class="keyword">import</span> <span class="type">com.practice.jdbcexmpl.service.StudentService</span>;
<span class="keyword">import</span> <span class="type">org.springframework.boot.SpringApplication</span>;
<span class="keyword">import</span> <span class="type">org.springframework.boot.autoconfigure.SpringBootApplication</span>;
<span class="keyword">import</span> <span class="type">org.springframework.context.ApplicationContext</span>;

<span class="keyword">import</span> <span class="type">java.util.List</span>;

<span class="annotation">@SpringBootApplication</span>  <span class="comment">// Enables Spring Boot auto-configuration</span>
<span class="keyword">public</span> <span class="keyword">class</span> JdbcexmplApplication {
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="method">main</span>(<span class="type">String</span>[] args) {
        <span class="comment">// Start Spring app and get context</span>
        <span class="type">ApplicationContext</span> context = <span class="type">SpringApplication</span>.<span class="method">run</span>(JdbcexmplApplication.<span class="keyword">class</span>, args);

        <span class="comment">// Create a Student object and set values</span>
        <span class="type">Student</span> s1 = <span class="keyword">new</span> <span class="type">Student</span>();
        s1.<span class="method">setRollno</span>(205);    <span class="comment">// Set roll number</span>
        s1.<span class="method">setName</span>(<span class="string">"Charan"</span>); <span class="comment">// Set name</span>
        s1.<span class="method">setMarks</span>(1234);    <span class="comment">// Set marks</span>

        <span class="comment">// Get StudentService bean from context</span>
        <span class="type">StudentService</span> service = context.<span class="method">getBean</span>(<span class="type">StudentService</span>.<span class="keyword">class</span>);
        service.<span class="method">addStudent</span>(s1); <span class="comment">// Save student to DB</span>

        <span class="comment">// Fetch and print all students</span>
        <span class="type">List</span>&lt;<span class="type">Student</span>&gt; students = service.<span class="method">getStudents</span>();
        System.out.println(students);
    }
}
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: <code>@SpringBootApplication</code> sets
          up Spring Boot. The <code>ApplicationContext</code> provides beans
          like <code>StudentService</code>. We create a <code>Student</code>,
          save it, and fetch all students.
        </p>

        <h3 class="subsection-title">
          Service Layer (Assumed for Completeness)
        </h3>
        <div class="code-block">
          <pre>
package com.practice.jdbcexmpl.service;

<span class="keyword">import</span> <span class="type">com.practice.jdbcexmpl.model.Student</span>;
<span class="keyword">import</span> <span class="type">com.practice.jdbcexmpl.repository.StudentRepo</span>;
<span class="keyword">import</span> <span class="type">org.springframework.beans.factory.annotation.Autowired</span>;
<span class="keyword">import</span> <span class="type">org.springframework.stereotype.Service</span>;

<span class="keyword">import</span> <span class="type">java.util.List</span>;

<span class="annotation">@Service</span>  <span class="comment">// Marks this as a service component</span>
<span class="keyword">public</span> <span class="keyword">class</span> StudentService {
    <span class="annotation">@Autowired</span>
    <span class="keyword">private</span> <span class="type">StudentRepo</span> repo;  <span class="comment">// Inject repository</span>

    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">addStudent</span>(<span class="type">Student</span> s) {
        repo.<span class="method">save</span>(s);  <span class="comment">// Call repository to save student</span>
    }

    <span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">Student</span>&gt; <span class="method">getStudents</span>() {
        <span class="keyword">return</span> repo.<span class="method">findAll</span>();  <span class="comment">// Call repository to fetch all students</span>
    }
}
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: Acts as a bridge between the main app
          and repository, encapsulating business logic.
        </p>

        <h3 class="subsection-title">Repository Layer</h3>
        <div class="code-block">
          <pre>
package com.practice.jdbcexmpl.repository;

<span class="keyword">import</span> <span class="type">com.practice.jdbcexmpl.model.Student</span>;
<span class="keyword">import</span> <span class="type">org.springframework.beans.factory.annotation.Autowired</span>;
<span class="keyword">import</span> <span class="type">org.springframework.jdbc.core.JdbcTemplate</span>;
<span class="keyword">import</span> <span class="type">org.springframework.jdbc.core.RowMapper</span>;
<span class="keyword">import</span> <span class="type">org.springframework.stereotype.Repository</span>;

<span class="keyword">import</span> <span class="type">java.sql.ResultSet</span>;
<span class="keyword">import</span> <span class="type">java.sql.SQLException</span>;
<span class="keyword">import</span> <span class="type">java.util.List</span>;

<span class="annotation">@Repository</span>  <span class="comment">// Marks this as a data access component</span>
<span class="keyword">public</span> <span class="keyword">class</span> StudentRepo {
    <span class="keyword">private</span> <span class="type">JdbcTemplate</span> jdbc;  <span class="comment">// JdbcTemplate for DB operations</span>

    <span class="comment">// Getter for JdbcTemplate</span>
    <span class="keyword">public</span> <span class="type">JdbcTemplate</span> <span class="method">getJdbc</span>() { <span class="keyword">return</span> jdbc; }
    <span class="comment">// Setter with @Autowired to inject JdbcTemplate</span>
    <span class="annotation">@Autowired</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">setJdbc</span>(<span class="type">JdbcTemplate</span> jdbc) { this.jdbc = jdbc; }

    <span class="comment">// Save a student to the database</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="method">save</span>(<span class="type">Student</span> s) {
        <span class="type">String</span> sql = <span class="string">"insert into student(rollno,name,marks) values (?,?,?)"</span>; <span class="comment">// Parameterized query</span>
        <span class="type">int</span> rows = jdbc.<span class="method">update</span>(sql, s.<span class="method">getRollno</span>(), s.<span class="method">getName</span>(), s.<span class="method">getMarks</span>()); <span class="comment">// Execute INSERT</span>
        System.out.println(rows + <span class="string">" Effected"</span>); <span class="comment">// Print affected rows</span>
    }

    <span class="comment">// Fetch all students from the database</span>
    <span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">Student</span>&gt; <span class="method">findAll</span>() {
        <span class="type">String</span> sql = <span class="string">"select * from student"</span>; <span class="comment">// Query to fetch all rows</span>

        <span class="comment">// RowMapper to map each row to a Student object</span>
        <span class="type">RowMapper</span>&lt;<span class="type">Student</span>&gt; mapper = <span class="keyword">new</span> <span class="type">RowMapper</span>&lt;<span class="type">Student</span>&gt;() {
            @Override
            <span class="keyword">public</span> <span class="type">Student</span> <span class="method">mapRow</span>(<span class="type">ResultSet</span> rs, <span class="type">int</span> rowNum) <span class="keyword">throws</span> <span class="type">SQLException</span> {
                <span class="type">Student</span> s = <span class="keyword">new</span> <span class="type">Student</span>();
                s.<span class="method">setRollno</span>(rs.<span class="method">getInt</span>(<span class="string">"rollno"</span>));    <span class="comment">// Map rollno column</span>
                s.<span class="method">setName</span>(rs.<span class="method">getString</span>(<span class="string">"name"</span>));     <span class="comment">// Map name column</span>
                s.<span class="method">setMarks</span>(rs.<span class="method">getDouble</span>(<span class="string">"marks"</span>));   <span class="comment">// Map marks column</span>
                <span class="keyword">return</span> s;  <span class="comment">// Return mapped object</span>
            }
        };

        <span class="keyword">return</span> jdbc.<span class="method">query</span>(sql, mapper); <span class="comment">// Execute query and return list</span>
    }
}
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: Uses <code>JdbcTemplate</code> for
          database operations. <code>save()</code> inserts a student, and
          <code>findAll()</code> retrieves all students with
          <code>RowMapper</code>.
        </p>

        <h3 class="subsection-title">Configuration (application.properties)</h3>
        <div class="code-block">
          <pre>
<span class="property">spring.datasource.url</span>=<span class="value">jdbc:postgresql://localhost:5432/practice</span>  <span class="comment"># Database URL</span>
<span class="property">spring.datasource.username</span>=<span class="value">postgres</span>                             <span class="comment"># Username</span>
<span class="property">spring.datasource.password</span>=<span class="value">1234789</span>                              <span class="comment"># Password</span>
<span class="property">spring.datasource.driver-class-name</span>=<span class="value">org.postgresql.Driver</span>       <span class="comment"># JDBC driver</span>
                </pre>
        </div>
        <p class="content-line">
          <strong>Explanation</strong>: Configures the
          <code>DataSource</code> for PostgreSQL connection pooling.
        </p>

        <h3 class="subsection-title">Sample SQL Data</h3>
        <div class="code-block">
          <pre>
<span class="sql-keyword">insert</span> <span class="sql-keyword">into</span> student(rollno,name,marks) <span class="sql-keyword">values</span>(101,<span class="string">'Sai'</span>,87.00);     <span class="comment"># Row 1</span>
<span class="sql-keyword">insert</span> <span class="sql-keyword">into</span> student(rollno,name,marks) <span class="sql-keyword">values</span>(102,<span class="string">'Hemanth'</span>,91.57); <span class="comment"># Row 2</span>
<span class="sql-keyword">insert</span> <span class="sql-keyword">into</span> student(rollno,name,marks) <span class="sql-keyword">values</span>(103,<span class="string">'Durga'</span>,94.00);   <span class="comment"># Row 3</span>
<span class="sql-keyword">insert</span> <span class="sql-keyword">into</span> student(rollno,name,marks) <span class="sql-keyword">values</span>(104,<span class="string">'Raj'</span>,89.24);     <span class="comment"># Row 4</span>
                </pre>
        </div>
        <p class="content-line">
          <strong>Note</strong>: Fixed typo from original (<code
            >"What's student</code
          >
          → <code>student</code>). Row 2 was repeated in your input; included
          only once here.
        </p>
      </div>

      <!-- Section: How JdbcTemplate Works -->
      <div class="section" id="how-jdbctemplate-works">
        <h2 class="section-title">How JdbcTemplate Works</h2>
        <ul class="content-line">
          <li>
            <strong>Purpose</strong>: Simplifies JDBC by removing boilerplate
            code (e.g., no manual connection opening/closing, exception
            handling).
          </li>
          <li>
            <strong>Features</strong>:
            <ul>
              <li>
                Uses parameterized queries (e.g., <code>?</code>) to prevent SQL
                injection.
              </li>
              <li>
                Automatically manages resources (no
                <code>try-finally</code> blocks).
              </li>
              <li>
                Works with a <code>DataSource</code> for connection pooling.
              </li>
            </ul>
          </li>
          <li>
            <strong>Methods</strong>:
            <ul>
              <li>
                <code>update()</code>: For INSERT, UPDATE, DELETE (returns rows
                affected).
              </li>
              <li>
                <code>query()</code>: For SELECT (maps results to objects via
                <code>RowMapper</code>).
              </li>
            </ul>
          </li>
          <li>
            <strong>Explanation</strong>: Wraps low-level JDBC operations,
            letting you focus on SQL and data.
          </li>
        </ul>
      </div>

      <!-- Section: Additional JDBC Concepts -->
      <div class="section" id="additional-jdbc-concepts">
        <h2 class="section-title">Additional JDBC Concepts</h2>

        <h3 class="subsection-title">Types of Statements</h3>
        <ol class="content-line">
          <li>
            <strong>Statement</strong>: Executes static SQL (e.g.,
            <code>SELECT * FROM student</code>).
            <ul>
              <li>
                <strong>Risk</strong>: Vulnerable to SQL injection if user input
                is concatenated.
              </li>
            </ul>
          </li>
          <li>
            <strong>PreparedStatement</strong>: Precompiled SQL with
            placeholders (<code>?</code>).
            <ul>
              <li>
                <strong>Benefits</strong>: Faster for repeated queries, prevents
                SQL injection.
              </li>
              <li>
                Example:
                <code
                  >jdbc.update("INSERT INTO student(rollno,name,marks)
                  VALUES(?,?,?)", ...);</code
                >
              </li>
            </ul>
          </li>
          <li>
            <strong>CallableStatement</strong>: Executes stored procedures
            (database functions).
          </li>
        </ol>

        <h3 class="subsection-title">Connection Pooling</h3>
        <ul class="content-line">
          <li>
            <strong>Plain JDBC</strong>: Opens/closes connections per
            request—slow and resource-intensive.
          </li>
          <li>
            <strong>Spring JDBC</strong>: Uses a <code>DataSource</code> (e.g.,
            HikariCP) for pooling.
            <ul>
              <li>
                <strong>How it Works</strong>: Maintains a pool of open
                connections (e.g., 10). App borrows one, uses it, and returns
                it.
              </li>
              <li>
                <strong>Benefit</strong>: Reduces overhead, ideal for
                high-traffic apps.
              </li>
            </ul>
          </li>
          <li>
            <strong>Explanation</strong>: Like borrowing books from a library
            instead of buying new ones.
          </li>
        </ul>

        <h3 class="subsection-title">Transactions</h3>
        <ul class="content-line">
          <li>
            <strong>Definition</strong>: Ensures multiple operations (e.g.,
            debit + credit) succeed or fail together.
          </li>
          <li>
            <strong>Plain JDBC</strong>: Manual control:
            <ul>
              <li>
                <code>conn.setAutoCommit(false)</code>: Disable auto-commit.
              </li>
              <li><code>conn.commit()</code>: Save changes.</li>
              <li><code>conn.rollback()</code>: Undo changes on failure.</li>
            </ul>
          </li>
          <li>
            <strong>Spring JDBC</strong>: Use <code>@Transactional</code> for
            automatic management.
          </li>
          <li>
            <strong>Example</strong>: Transfer $100:
            <ol>
              <li>Deduct from Account A.</li>
              <li>Add to Account B.</li>
              <li>
                If step 2 fails, <code>@Transactional</code> rolls back step 1.
              </li>
            </ol>
          </li>
        </ul>
      </div>

      <!-- Section: Disadvantages of JDBC -->
      <div class="section" id="disadvantages-jdbc">
        <h2 class="section-title">Disadvantages of JDBC</h2>
        <ol class="content-line">
          <li>
            <strong>Boilerplate Code</strong>: Even with
            <code>JdbcTemplate</code>, repetitive SQL and mapping (e.g.,
            <code>RowMapper</code>) are required.
          </li>
          <li>
            <strong>Manual Query Writing</strong>: Handwritten SQL is
            error-prone and hard to maintain.
          </li>
          <li>
            <strong>No Automatic ORM</strong>: Manual mapping of tables to
            objects.
          </li>
          <li>
            <strong>Complex Relationships</strong>: Extra code for
            one-to-many/many-to-many relationships.
          </li>
          <li>
            <strong>Transaction Management</strong>: Manual in plain JDBC;
            Spring simplifies but requires setup.
          </li>
        </ol>
      </div>

      <!-- Section: Overcoming Disadvantages with JPA -->
      <div class="section" id="overcoming-disadvantages-jpa">
        <h2 class="section-title">
          Overcoming Disadvantages with JPA (Java Persistence API)
        </h2>
        <p class="content-line">
          <strong>JPA</strong> (e.g., Hibernate) is a higher-level framework
          that addresses JDBC limitations:
        </p>
        <ol class="content-line">
          <li>
            <strong>Less Boilerplate</strong>: Annotations replace SQL and
            <code>RowMapper</code>.
            <ul>
              <li>
                Example:
                <div class="code-block">
                  <pre>
<span class="annotation">@Entity</span>
<span class="keyword">public</span> <span class="keyword">class</span> Student {
    <span class="annotation">@Id</span>
    <span class="keyword">private</span> <span class="type">int</span> rollno;
    <span class="keyword">private</span> <span class="type">String</span> name;
    <span class="keyword">private</span> <span class="type">double</span> marks;
    <span class="comment">// Getters and setters</span>
}
                                </pre>
                </div>
              </li>
            </ul>
          </li>
          <li>
            <strong>Automatic Query Generation</strong>: Methods like
            <code>findAll()</code>, <code>save()</code>—no SQL needed.
          </li>
          <li>
            <strong>ORM Support</strong>: Maps tables to objects and handles
            relationships (e.g., <code>@OneToMany</code>,
            <code>@ManyToOne</code>).
          </li>
          <li>
            <strong>Simplified Transactions</strong>:
            <code>@Transactional</code> integrates seamlessly with Spring.
          </li>
        </ol>

        <h3 class="subsection-title">How JPA Solves JDBC Issues</h3>
        <ul class="content-line">
          <li>
            <strong>Problem</strong>: Manual SQL → <strong>Solution</strong>:
            JPA generates queries.
          </li>
          <li>
            <strong>Problem</strong>: No ORM → <strong>Solution</strong>: JPA
            maps tables to objects with annotations.
          </li>
          <li>
            <strong>Problem</strong>: Complex relationships →
            <strong>Solution</strong>: JPA supports relationship annotations.
          </li>
        </ul>
      </div>

      <!-- Section: Conclusion -->
      <div class="section" id="conclusion">
        <h2 class="section-title">Conclusion</h2>
        <ul class="content-line">
          <li>
            <strong>JDBC</strong>: Low-level, full control, but verbose and
            manual.
          </li>
          <li>
            <strong>Spring JDBC</strong>: Simplifies JDBC with
            <code>JdbcTemplate</code> and <code>DataSource</code>, reducing
            boilerplate.
          </li>
          <li>
            <strong>JPA</strong>: Higher-level ORM for minimal code, automatic
            mapping, and complex apps.
          </li>
          <li>
            Your <code>Student</code> class-to-table mapping aligns with all
            three approaches, showing its versatility.
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
